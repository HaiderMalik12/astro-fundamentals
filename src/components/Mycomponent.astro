---
import Card from "./Card.astro";
import Fred from "./Fred.astro";

interface Props {
  title: string;
  greeting?: string;
}

const { title, greeting } = Astro.props;

// fetch data from external API
const data = await fetch("https://jsonplaceholder.typicode.com/todos").then(
  (r) => r.json()
);
---

<!-- Your Template here -->
<div>
  <h1>{title}</h1>
  <p>{greeting}</p>

  <h3>Todos</h3>
  <ul>
    {data.map((item) => <li>{item.title}</li>)}
  </ul>

  <Card
    href="https://astro.build/chat/"
    title="Learn Astro"
    body="Learn Astro by building projects! ❤️"
  />
  <!-- Use Fred Component -->
  <Fred />
</div>
